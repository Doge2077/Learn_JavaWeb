<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Learn03.Interfaces.select01">
    <select id="selectStu" resultType="Learn03.Classes.Student">
        SELECT * FROM stu
    </select>
    <select id="selectStusid" resultType="Learn03.Classes.Student">
        SELECT * FROM stu WHERE Sid = #{Sid}
    </select>
    <!-- 一对多的多表联查  查询一老师 Tid 对应教授的所有学生  -->
    <select id="getTeacherByTid" resultMap="asTeacher">
        SELECT stu.*, tea.Tid, tea.Tname
        FROM stu
                 INNER JOIN ts ON stu.Sid = ts.Sid
                 INNER JOIN tea on ts.Tid = tea.Tid
        WHERE ts.Tid = #{Tid}
    </select>
    <resultMap id="asTeacher" type="Learn03.Classes.Teacher">
        <id column="Tid" property="Tid"/>
        <result column="Tname" property="Tname"/>
        <collection property="studentList" ofType="Learn03.Classes.Student">
            <id column="Sid" property="Sid"/>
            <result column="Sname" property="Sname"/>
            <result column="Ssex" property="Ssex"/>
        </collection>
    </resultMap>
</mapper>